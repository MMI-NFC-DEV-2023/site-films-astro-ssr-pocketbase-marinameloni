---
import Layout from "../layouts/Layout.astro";
---

<Layout pageTitle="GitHub Auth">
  <h1>GitHub Auth</h1>
  <p>Sign in with GitHub</p>
  <button>Sign in with GitHub</button>
</Layout>

<script>
  import { pb } from "../backend";
  document.getElementById('connectGithub')?.addEventListener('click', async () => {
    const authData = await pb
      .collection("users")
      .authWithOAuth2({ provider: "github" });
  });
  const authData = await pb
    .collection("users")
    .authWithOAuth2({ provider: "github" });
    document.cookie = pb.authStore.exportToCookie({httpOnly: false});


const pb = new Pocketbase('https://pocketbase.io');

</script>
